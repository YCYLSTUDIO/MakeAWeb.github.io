<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Make A Web</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>
<body>
    <div class="full">
        <div class="area">
            <input type="text" id="fs" placeholder="Font-Size">

            <br><br>

            <label>HTML:</label><br>
            <textarea id="htmli" placeholder="Code"></textarea><br><br>
            <label>CSS:</label><br>
            <textarea id="cssi" placeholder="Code"></textarea><br><br>
            <label>JS:</label><br>
            <textarea id="jsi" placeholder="Code"></textarea><br><br>


            <br><br><br>

            <!-- <button onclick="sub()">Load</button> -->
            <button>Load</button>

            <br><br><br><br><br>

            
            <button onclick="htmlf()">HTML Sample</button><br>
            <button onclick="cssf()">css Sample</button><br>
            <button onclick="jsf()">js Sample</button><br><br><br><br><br><br><br><br>

            <select id="zoom" onchange="zoomf()">
                <option value="500">500</option>
                <option value="400">400</option>
                <option value="300">300</option>
                <option value="200">200</option>
                <option value="100" selected>100</option>
                <option value="80">80</option>
                <option value="50">50</option>
                <option value="25">25</option>
            </select><br><br>
            <div class="iframe" id="idiv">
                <iframe src="" id="ifram" frameborder="0"></iframe><br>
            </div>
            <button onclick="buka()">Buka</button>
        </div>
    </div>


    <style>
        body {
            margin: 0px;
            padding: 0px;
        }
        textarea {
            width: 90%;
            height: 500px;
            resize: none;
            overflow: auto;
            font-size: 20px;
        }
        .full {
            width: 100%;
            height: auto;
            /* padding: 5px; */
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .area {
            padding-top: 100px;
            padding-bottom: 100px;
            width: 90%;
            height: auto;
        }
        iframe {
            width: 100%;
            height: 100%;
        }
        .iframe {
            width: 100%;
            height: 100vh;
            border: 2px solid red;
            overflow: hidden;
        }
        select {
            padding: 5px 15px;
        }
    </style>
    <script>
        var html = "";
        var css = "";
        var js = "";

        var htmlb = "";
        var cssb = "";
        var jsb = "";
        
        const fsi = document.getElementById("fs");
        fsi.value = "20";

        setInterval(() => {
            const htmli = document.getElementById("htmli");
            const cssi = document.getElementById("cssi");
            const jsi = document.getElementById("jsi");
            htmlb = htmli.value;
            cssb = cssi.value;
            jsb = jsi.value;



            if(htmlb == html) {
                // html = htmlb;
            }
            else {
                html = htmlb;
                gan();
            }
            if(cssb == css) {
                // css = cssb;
            }
            else {
                css = cssb;
                gan();
            }
            if(jsb == js) {
                // js = jsb;
            }
            else {
                js = jsb;
                gan();
            }
        }, 1000);

        setInterval(() => {
            const htmli = document.getElementById("htmli");
            const cssi = document.getElementById("cssi");
            const jsi = document.getElementById("jsi");
            htmli.style.fontSize = fsi.value + "px";
            cssi.style.fontSize = fsi.value + "px";
            jsi.style.fontSize = fsi.value + "px";
        }, 20);




        var akhirjs = "<" +"/" + "s" + "c" + "r" + "i" + "p" + "t" + ">";
        let urls = "";
        function gan() {
            
            var htmlctn = html + "\n<style>" + css + "</style>" + "\n<script>" + js + akhirjs;
            
            // console.log(htmlctn);
            const blob = new Blob([htmlctn], { type: 'text/html' });
            const url = URL.createObjectURL(blob); 
            const ifram = document.getElementById("ifram");
            ifram.src = url; 
            // window.open(url);
            urls = url;
        }
        function buka() {
            window.open(urls);
        }






        let html_sample =   "<!DOCTYPE html>"+
                            "\n<html>"+
                            "\n<head>"+
                                "\n<meta charset='utf-8'>"+
                                "\n<meta http-equiv='X-UA-Compatible' content='IE=edge'>"+
                                "\n<title>Page Title</title>"+
                                "\n<meta name='viewport' content='width=device-width, initial-scale=1'>"+
                                "\n<link rel='stylesheet' type='text/css' media='screen' href='main.css'>"+
                                "\n<script src='main.js'>" + akhirjs +
                            "\n</head>"+
                            "\n<body>"+
                                "\n    "+
                            "\n</body>"+
                            "\n</html>";

        let css_sample =    "body { "+
                            "\n    margin: 0px;"+
                            "\n    padding: 0px;"+
                            "\n}";



        let js_sample = "console.log('Hello World')";
        function htmlf() {
            navigator.clipboard.writeText(html_sample);
        }
        function cssf() {
            navigator.clipboard.writeText(css_sample);
        }
        function jsf() {
            navigator.clipboard.writeText(js_sample);
        }

        function zoomf() {
            const idiv = document.getElementById("idiv");
            let valuez = document.getElementById("zoom").value;
            if(valuez == 500) {
                idiv.style.width = "500%";
                idiv.style.height = "500vh";
            }
            else if(valuez == 400) {
                idiv.style.width = "400%";
                idiv.style.height = "400vh";
            }
            else if(valuez == 300) {
                idiv.style.width = "300%";
                idiv.style.height = "300vh";
            }
            else if(valuez == 200) {
                idiv.style.width = "200%";
                idiv.style.height = "200vh";
            }
            else if(valuez == 100) {
                idiv.style.width = "100%";
                idiv.style.height = "100vh";
            }
            else if(valuez == 80) {
                idiv.style.width = "80%";
                idiv.style.height = "80vh";
            }
            else if(valuez == 50) {
                idiv.style.width = "50%";
                idiv.style.height = "50vh";
            }
            else if(valuez == 25) {
                idiv.style.width = "25%";
                idiv.style.height = "25vh";
            }
        }
    </script>
</body>
</html>